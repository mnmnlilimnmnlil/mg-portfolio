@import '../../styles/variables';
@import '../../styles/mixins';

.logo {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  text-decoration: none;
  color: $color-red;
  @include smooth-transition(all);
  cursor: pointer;

  &:hover {
    .logo__line1,
    .logo__line2,
    .logo__line3,
    .logo__line4,
    .logo__line5,
    .logo__line6,
    .logo__line7,
    .logo__line8 {
      animation: explodeAndRedraw 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) 0.1s forwards;
    }
    
    // 터지는 효과 - 선보다 0.1초 먼저 시작 (즉시 시작)
    .logo__burst1,
    .logo__burst2,
    .logo__burst3,
    .logo__burst4,
    .logo__burst5,
    .logo__burst6,
    .logo__burst7,
    .logo__burst8,
    .logo__burst9,
    .logo__burst10,
    .logo__burst11,
    .logo__burst12 {
      animation: burstParticle 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) 0s forwards;
    }
  }
  
  &__burst1,
  &__burst2,
  &__burst3,
  &__burst4,
  &__burst5,
  &__burst6,
  &__burst7,
  &__burst8,
  &__burst9,
  &__burst10,
  &__burst11,
  &__burst12 {
    pointer-events: none;
  }

  &:active {
    transform: scale(0.95);
  }

  &__animated {
    .logo__line1 { animation: drawLine 0.6s ease-out 0s forwards; }
    .logo__line2 { animation: drawLine 0.6s ease-out 0.1s forwards; }
    .logo__line3 { animation: drawLine 0.6s ease-out 0.2s forwards; }
    .logo__line4 { animation: drawLine 0.6s ease-out 0.3s forwards; }
    .logo__line5 { animation: drawLine 0.6s ease-out 0.4s forwards; }
    .logo__line6 { animation: drawLine 0.6s ease-out 0.5s forwards; }
    .logo__line7 { animation: drawLine 0.6s ease-out 0.6s forwards; }
    .logo__line8 { animation: drawLine 0.6s ease-out 0.7s forwards; }
  }

  &__line1,
  &__line2,
  &__line3,
  &__line4,
  &__line5,
  &__line6,
  &__line7,
  &__line8 {
    stroke-dasharray: 35;
    stroke-dashoffset: 35;
  }
}

@keyframes drawLine {
  0% {
    stroke-dashoffset: 35;
    opacity: 0;
  }
  30% {
    opacity: 1;
  }
  100% {
    stroke-dashoffset: 0;
    opacity: 1;
  }
}

@keyframes explodeAndRedraw {
  0% {
    stroke-dashoffset: 0;
    opacity: 1;
  }
  15% {
    stroke-dashoffset: -100;
    opacity: 0;
  }
  16% {
    stroke-dashoffset: 35;
    opacity: 0;
  }
  30% {
    opacity: 0;
  }
  50% {
    opacity: 0.5;
  }
  100% {
    stroke-dashoffset: 0;
    opacity: 1;
  }
}

@keyframes burstParticle {
  0% {
    transform: translate(0, 0);
    r: 2;
    opacity: 1;
    filter: brightness(1) drop-shadow(0 0 4px currentColor);
  }
  20% {
    r: 4;
    opacity: 1;
    filter: brightness(1.5) drop-shadow(0 0 8px currentColor) drop-shadow(0 0 12px currentColor);
  }
  30% {
    r: 3;
    opacity: 0.9;
    filter: brightness(1.2) drop-shadow(0 0 6px currentColor);
  }
  50% {
    r: 2;
    opacity: 0.6;
    filter: brightness(1) drop-shadow(0 0 4px currentColor);
  }
  100% {
    transform: translate(calc(var(--tx) * 1px), calc(var(--ty) * 1px));
    r: 0;
    opacity: 0;
    filter: brightness(0.5) drop-shadow(0 0 2px currentColor);
  }
}

